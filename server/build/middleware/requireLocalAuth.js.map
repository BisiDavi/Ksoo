{"version":3,"sources":["../../src/middleware/requireLocalAuth.js"],"names":["requireLocalAuth","req","res","next","passport","authenticate","err","user","info","status","send"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,gBAAgB,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC3CC,oBAASC,YAAT,CAAsB,OAAtB,EAA+B,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AAClD,QAAIF,GAAJ,EAAS;AACP,aAAOH,IAAI,CAACG,GAAD,CAAX;AACD;;AACD,QAAI,CAACC,IAAL,EAAW;AACT,aAAOL,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBF,IAArB,CAAP;AACD;;AACDP,IAAAA,GAAG,CAACM,IAAJ,GAAWA,IAAX;AACAJ,IAAAA,IAAI;AACL,GATD,EASGF,GATH,EASQC,GATR,EASaC,IATb;AAUD,CAXD;;eAaeH,gB","sourcesContent":["import passport from 'passport';\r\n\r\nconst requireLocalAuth = (req, res, next) => {\r\n  passport.authenticate('local', (err, user, info) => {\r\n    if (err) {\r\n      return next(err);\r\n    }\r\n    if (!user) {\r\n      return res.status(422).send(info);\r\n    }\r\n    req.user = user;\r\n    next();\r\n  })(req, res, next);\r\n};\r\n\r\nexport default requireLocalAuth;\r\n"],"file":"requireLocalAuth.js"}